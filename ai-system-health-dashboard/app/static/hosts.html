<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Trace Host Management</title>
    <link rel="stylesheet" href="/static/assets/main.css">
    <style>
        .hosts-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .host-card {
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .host-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        .host-ip {
            font-size: 1.2em;
            font-weight: bold;
            color: #4CAF50;
        }
        .host-status {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
        }
        .status-unknown {
            background: #666;
            color: #fff;
        }
        .status-deployable {
            background: #4CAF50;
            color: #fff;
        }
        .host-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-bottom: 15px;
        }
        .info-item {
            display: flex;
            justify-content: space-between;
        }
        .info-label {
            color: #888;
        }
        .info-value {
            color: #fff;
        }
        .deploy-btn {
            background: #2196F3;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 10px;
        }
        .deploy-btn:hover {
            background: #1976D2;
        }
        .deploy-btn:disabled {
            background: #666;
            cursor: not-allowed;
        }
        .commands-section {
            background: #2a2a2a;
            border-radius: 4px;
            padding: 15px;
            margin-top: 15px;
            display: none;
        }
        .commands-section.show {
            display: block;
        }
        .command-block {
            background: #1a1a1a;
            border: 1px solid #444;
            border-radius: 4px;
            padding: 10px;
            margin-bottom: 10px;
            font-family: monospace;
            font-size: 0.9em;
            white-space: pre-wrap;
        }
        .copy-btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 4px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8em;
        }
        .summary-section {
            background: #2a2a2a;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            text-align: center;
        }
        .summary-item {
            padding: 15px;
            background: #1a1a1a;
            border-radius: 8px;
        }
        .summary-number {
            font-size: 2em;
            font-weight: bold;
            color: #4CAF50;
        }
        .summary-label {
            color: #888;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="hosts-container">
        <h1>üîç System Trace Host Management</h1>
        
        <div class="summary-section">
            <h2>üìä Discovery Summary</h2>
            <div class="summary-grid">
                <div class="summary-item">
                    <div class="summary-number">4</div>
                    <div class="summary-label">Total Hosts</div>
                </div>
                <div class="summary-item">
                    <div class="summary-number">0</div>
                    <div class="summary-label">Deployable</div>
                </div>
                <div class="summary-item">
                    <div class="summary-number">0</div>
                    <div class="summary-label">OS Types</div>
                </div>
                <div class="summary-item">
                    <div class="summary-number">192.168.50.0/24</div>
                    <div class="summary-label">Network</div>
                </div>
            </div>
        </div>
        
        <h2>üñ•Ô∏è Discovered Hosts</h2>
        
        
        <div class="host-card">
            <div class="host-header">
                <div class="host-ip">192.168.50.81</div>
                <div class="host-status status-unknown">Unknown</div>
            </div>
            
            <div class="host-info">
                <div class="info-item">
                    <span class="info-label">Hostname:</span>
                    <span class="info-value">Unknown</span>
                </div>
                <div class="info-item">
                    <span class="info-label">OS Type:</span>
                    <span class="info-value">Unknown</span>
                </div>
                <div class="info-item">
                    <span class="info-label">SSH Access:</span>
                    <span class="info-value">No</span>
                </div>
                <div class="info-item">
                    <span class="info-label">SNMP Available:</span>
                    <span class="info-value">No</span>
                </div>
            </div>
            
            
            <div>
                <button class="deploy-btn" disabled>SSH Not Accessible</button>
                <p style="color: #888; font-size: 0.9em;">SSH key authentication required for deployment</p>
            </div>
        </div>
        <div class="host-card">
            <div class="host-header">
                <div class="host-ip">192.168.50.89</div>
                <div class="host-status status-unknown">Unknown</div>
            </div>
            
            <div class="host-info">
                <div class="info-item">
                    <span class="info-label">Hostname:</span>
                    <span class="info-value">Unknown</span>
                </div>
                <div class="info-item">
                    <span class="info-label">OS Type:</span>
                    <span class="info-value">Unknown</span>
                </div>
                <div class="info-item">
                    <span class="info-label">SSH Access:</span>
                    <span class="info-value">No</span>
                </div>
                <div class="info-item">
                    <span class="info-label">SNMP Available:</span>
                    <span class="info-value">No</span>
                </div>
            </div>
            
            
            <div>
                <button class="deploy-btn" disabled>SSH Not Accessible</button>
                <p style="color: #888; font-size: 0.9em;">SSH key authentication required for deployment</p>
            </div>
        </div>
        <div class="host-card">
            <div class="host-header">
                <div class="host-ip">192.168.50.1</div>
                <div class="host-status status-unknown">Unknown</div>
            </div>
            
            <div class="host-info">
                <div class="info-item">
                    <span class="info-label">Hostname:</span>
                    <span class="info-value">Unknown</span>
                </div>
                <div class="info-item">
                    <span class="info-label">OS Type:</span>
                    <span class="info-value">Unknown</span>
                </div>
                <div class="info-item">
                    <span class="info-label">SSH Access:</span>
                    <span class="info-value">No</span>
                </div>
                <div class="info-item">
                    <span class="info-label">SNMP Available:</span>
                    <span class="info-value">No</span>
                </div>
            </div>
            
            
            <div>
                <button class="deploy-btn" disabled>SSH Not Accessible</button>
                <p style="color: #888; font-size: 0.9em;">SSH key authentication required for deployment</p>
            </div>
        </div>
        <div class="host-card">
            <div class="host-header">
                <div class="host-ip">192.168.50.198</div>
                <div class="host-status status-unknown">Unknown</div>
            </div>
            
            <div class="host-info">
                <div class="info-item">
                    <span class="info-label">Hostname:</span>
                    <span class="info-value">Unknown</span>
                </div>
                <div class="info-item">
                    <span class="info-label">OS Type:</span>
                    <span class="info-value">Unknown</span>
                </div>
                <div class="info-item">
                    <span class="info-label">SSH Access:</span>
                    <span class="info-value">No</span>
                </div>
                <div class="info-item">
                    <span class="info-label">SNMP Available:</span>
                    <span class="info-value">No</span>
                </div>
            </div>
            
            
            <div>
                <button class="deploy-btn" disabled>SSH Not Accessible</button>
                <p style="color: #888; font-size: 0.9em;">SSH key authentication required for deployment</p>
            </div>
        </div>
        
        <div class="summary-section">
            <h2>üìÅ Available Agent Files</h2>
            <p>Agent files have been created for all supported operating systems:</p>
            <ul>
                <li><strong>Ubuntu/Debian:</strong> apt-based systems</li>
                <li><strong>RHEL/CentOS/Rocky:</strong> yum/dnf-based systems</li>
            </ul>
            <p>Each agent includes:</p>
            <ul>
                <li>Python monitoring agent (system-trace_agent.py)</li>
                <li>Deployment script (deploy_*_agent.sh)</li>
                <li>Systemd service (system-trace-agent.service)</li>
                <li>SNMP configuration (snmpd.conf)</li>
            </ul>
        </div>
    </div>

    <script>
        function toggleCommands(hostId) {
            const section = document.getElementById('commands-' + hostId);
            section.classList.toggle('show');
        }
        
        function copyCommands(hostId) {
            const commandsText = document.getElementById('commands-' + hostId).innerText;
            navigator.clipboard.writeText(commandsText).then(() => {
                alert('Commands copied to clipboard!');
            });
        }
        
        // Auto-refresh every 30 seconds
        setTimeout(() => {
            window.location.reload();
        }, 30000);
    </script>
</body>
</html>